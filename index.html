<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.14.0">
<meta name="crystal_docs.project_version" content="master-dev">
<meta name="crystal_docs.project_name" content="tsh-cr">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="tsh-cr">
  <title>tsh-cr master-dev</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          tsh-cr
        </a>
      </h1>

      <span class="project-version">
        master-dev
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent " data-id="tsh-cr/Tsh" data-name="tsh">
      <a href="Tsh.html">Tsh</a>
      
        <ul>
  
  <li class=" " data-id="tsh-cr/Tsh/CollisionFlags" data-name="tsh::collisionflags">
      <a href="Tsh/CollisionFlags.html">CollisionFlags</a>
      
    </li>
  
  <li class=" " data-id="tsh-cr/Tsh/Flipbook" data-name="tsh::flipbook">
      <a href="Tsh/Flipbook.html">Flipbook</a>
      
    </li>
  
  <li class=" " data-id="tsh-cr/Tsh/Key" data-name="tsh::key">
      <a href="Tsh/Key.html">Key</a>
      
    </li>
  
  <li class=" " data-id="tsh-cr/Tsh/Note" data-name="tsh::note">
      <a href="Tsh/Note.html">Note</a>
      
    </li>
  
  <li class="parent " data-id="tsh-cr/Tsh/PlayThing" data-name="tsh::plaything">
      <a href="Tsh/PlayThing.html">PlayThing</a>
      
        <ul>
  
  <li class=" " data-id="tsh-cr/Tsh/PlayThing/Flags" data-name="tsh::plaything::flags">
      <a href="Tsh/PlayThing/Flags.html">Flags</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="tsh-cr/Tsh/PT" data-name="tsh::pt">
      <a href="Tsh/PT.html">PT</a>
      
    </li>
  
  <li class="parent " data-id="tsh-cr/Tsh/Sound" data-name="tsh::sound">
      <a href="Tsh/Sound.html">Sound</a>
      
        <ul>
  
  <li class=" " data-id="tsh-cr/Tsh/Sound/Note" data-name="tsh::sound::note">
      <a href="Tsh/Sound/Note.html">Note</a>
      
    </li>
  
  <li class="parent " data-id="tsh-cr/Tsh/Sound/Tone" data-name="tsh::sound::tone">
      <a href="Tsh/Sound/Tone.html">Tone</a>
      
        <ul>
  
  <li class=" " data-id="tsh-cr/Tsh/Sound/Tone/Waveform" data-name="tsh::sound::tone::waveform">
      <a href="Tsh/Sound/Tone/Waveform.html">Waveform</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="tsh-cr/Tsh/Sprite" data-name="tsh::sprite">
      <a href="Tsh/Sprite.html">Sprite</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<p><a href="https://github.com/D-Shwagginz/tsh-cr/actions/workflows/build-examples.yml"><img src="https://github.com/D-Shwagginz/tsh-cr/actions/workflows/build-examples.yml/badge.svg" alt="Examples" /></a>
<a href="https://github.com/D-Shwagginz/tsh-cr/actions/workflows/spec.yml"><img src="https://github.com/D-Shwagginz/tsh-cr/actions/workflows/spec.yml/badge.svg" alt="Spec" /></a></p>
<p><a href="https://d-shwagginz.github.io/tsh-cr/"><img src="https://img.shields.io/badge/Check%20The-Docs-blue" alt="Static Badge" /></a></p>
<h1><a id="twenty-six-hundred-crystal" class="anchor" href="#twenty-six-hundred-crystal">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>T(wenty) S(ix) h(undred) - Cr(ystal)</h1>
<p>An easy to use game library focused on creating 2d games
in the style of Atari 2600 games (1977) up to Gameboy games (1989)</p>
<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>
<ol>
<li>Run your specific platform's install script located in <code>rsrc/</code>
Make sure to run these from inside the tsh-cr repo folder,
not from inside the <code>rsrc</code> folder itself</li>
</ol>
<ul>
<li>If on windows you will need to run these to setup your work environment:
<ul>
<li>Powershell
<pre><code class="language-powershell">$env:LIB=&quot;${env:LIB};C:\tsh-cr&quot;
$env:PATH=&quot;${env:PATH};C:\tsh-cr&quot;</code></pre>
</li>
<li>Or cmd
<pre><code class="language-cmd">set PATH=%PATH%;C:\tsh-cr
set LIB=%LIB%;C:\tsh-cr</code></pre>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Add <code>tsh-cr</code> to your <code>shard.yml</code>:</li>
</ol>
<pre><code class="language-yml">dependencies:
  tsh-cr:
    github: D-Shwagginz/tsh-cr</code></pre>
<ol start="3">
<li>Run <code>shards update</code></li>
</ol>
<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>
<p>Tsh-cr uses a class called PlayThings to preform
various game tasks such as managing sprites,
position, animation, as well as collision.</p>
<p>Please visit the examples for a showcase of how to better apply Tsh-cr</p>
<h3><a id="a-simple-game-loop" class="anchor" href="#a-simple-game-loop">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>A simple game loop</h3>
<p>Tsh-cr's main loop is it's <code>Tsh.play(title, width, height, colors)</code> function.<br>
Title will be the title of the window, width and height are the resolutions
of the <strong>internal</strong> screen, not the window itself, and colors is an array
that acts as a palette for all sprites. By default, all colors in the engine are black.</p>
<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;tsh-cr&quot;</span>

<span class="t">Tsh</span>.play(<span class="s">&quot;Hello World!&quot;</span>, <span class="n">50</span>, <span class="n">50</span>, [<span class="t">Tsh</span><span class="t">::</span><span class="t">BLANK</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">WHITE</span>]) <span class="k">do</span>
  <span class="c"># Update code</span>
<span class="k">end</span></code></pre>
<h3><a id="creating-a-play-thing" class="anchor" href="#creating-a-play-thing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Creating a PlayThing</h3>
<p>PlayThings are the basis of Tsh-cr and can be created very simply.</p>
<pre><code class="language-crystal"><span class="t">Tsh</span><span class="t">::</span><span class="t">PlayThing</span>.new(
  x: <span class="n">12</span>,
  y: <span class="n">5</span>,
)</code></pre>
<p>Now right now this PlayThing will do nothing when <code>Tsh.play()</code> is called.
It has no collision callbacks nor any sprites to draw. It will also
never be destroyed since it is not set to a variable or destroyed
in a collision function.<br></p>
<h3><a id="drawing-a-play-thing" class="anchor" href="#drawing-a-play-thing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Drawing a PlayThing</h3>
<pre><code class="language-crystal">smile <span class="o">=</span> <span class="t">Tsh</span><span class="t">::</span><span class="t">PlayThing</span>.new(
  sprites: [
    <span class="t">Tsh</span><span class="t">::</span><span class="t">Sprite</span>.new([
      [<span class="n">1</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">1</span>],
      [<span class="n">0</span>],
      [<span class="n">1</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>, <span class="n">1</span>],
      [<span class="n">0</span>, <span class="n">1</span>, <span class="n">1</span>, <span class="n">1</span>, <span class="n">1</span>],
    ]),
  ]
)

<span class="t">Tsh</span>.play(<span class="s">&quot;Drawing&quot;</span>, <span class="n">40</span>, <span class="n">40</span>, [<span class="t">Tsh</span><span class="t">::</span><span class="t">BLANK</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">BLUE</span>]) <span class="k">do</span>
<span class="k">end</span></code></pre>
<p>This will create a smiley face in the lower left corner of the
screen since we don't set the PlayThings x or y. Playthings are bottom-left centered,
meaning that all sprites will extend towards the top right.</p>
<p>As you can see, sprites are set as an array in the PlayThing. <code>Tsh::PlayThing.sprite</code> is the
current sprite in that array to display. Eacg sprite is an array (rows) of arrays (columns)
of numbers. The numbers map to their respective index in <code>Tsh.colors</code> which we set to be blank and blue,
meaning that our smiley face will be shown as blue.</p>
<h3><a id="making-sounds" class="anchor" href="#making-sounds">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Making sounds</h3>
<p>Tsh-cr uses SunVox to creates it's sounds.</p>
<p>A sound is a collection of notes, which themselves are a collection of tones and the length to play them for.<br>
A tone is a musical note, and the waveform to play it on.</p>
<p>Currently there are 8 waveforms: Triangle, Saw, Square, Noise, Sin, HSin, ASin, and PSin.<br>
The tones in a note can play one musical note on any of these 8 at the same time.</p>
<p>There is currently support for a max of 16 sounds to play at once, with a tone playing on each waveform in
every sound's current note. If you play more than 16 sounds, the oldest sound will be stopped and the new sound
will be played in its place.</p>
<pre><code class="language-crystal">sound <span class="o">=</span> <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span>.new(
  [
    <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Note</span>.new([<span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span>.new(<span class="t">Tsh</span><span class="t">::</span><span class="t">Note</span><span class="t">::</span><span class="t">C2</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span><span class="t">::</span><span class="t">Waveform</span><span class="t">::</span><span class="t">Triangle</span>),
                          <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span>.new(<span class="t">Tsh</span><span class="t">::</span><span class="t">Note</span><span class="t">::</span><span class="t">G4</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span><span class="t">::</span><span class="t">Waveform</span><span class="t">::</span><span class="t">Noise</span>),
    ], <span class="n">1.0</span>),
    <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Note</span>.new([<span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span>.new(<span class="t">Tsh</span><span class="t">::</span><span class="t">Note</span><span class="t">::</span><span class="t">F5</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span><span class="t">::</span><span class="t">Waveform</span><span class="t">::</span><span class="t">Triangle</span>)], <span class="n">1.0</span>),
    <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Note</span>.new([<span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span>.new(<span class="t">Tsh</span><span class="t">::</span><span class="t">Note</span><span class="t">::</span><span class="t">A3</span>, <span class="t">Tsh</span><span class="t">::</span><span class="t">Sound</span><span class="t">::</span><span class="t">Tone</span><span class="t">::</span><span class="t">Waveform</span><span class="t">::</span><span class="t">Square</span>)], <span class="n">1.0</span>),
  ]
)

sound_played <span class="o">=</span> <span class="n">false</span>

<span class="t">Tsh</span>.play(<span class="s">&quot;Sounds&quot;</span>, <span class="n">40</span>, <span class="n">40</span>) <span class="k">do</span>
  <span class="k">if</span> <span class="o">!</span>sound_played
    sound_played <span class="o">=</span> <span class="n">true</span>
    sound.play
  <span class="k">end</span>
<span class="k">end</span></code></pre>
<p>Playing over 8 tones in one note or playing the same waveform more in more than one tone in a note
will cause unexpected and possibly audio-breaking results. However it is allowed so feel free to experiment.</p>
<p>For something like music which might require multiple of the same waveform, try to use multiple sounds
and treat them as layers. The NES had 5 channels and only 2 of them were the same waveform. If you want
to play tones at times different from others in music, you would also need to use &quot;layered&quot; sounds.</p>
<h3><a id="examples" class="anchor" href="#examples">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Examples</h3>
<p>In the examples folder you will find ways to use collision, movement,
animation, sound, as well as a simple space invaders clone.</p>
<h2><a id="contributing" class="anchor" href="#contributing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributing</h2>
<ol>
<li>Fork it (<a href="https://github.com/D-Shwagginz/tsh-cr/fork">https://github.com/D-Shwagginz/tsh-cr/fork</a>)</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
<h2><a id="contributors" class="anchor" href="#contributors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributors</h2>
<ul>
<li><a href="https://github.com/D-Shwagginz">Devin Shwagginz</a> - Creator and maintainer</li>
</ul>
<h2><a id="special-thanks" class="anchor" href="#special-thanks">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Special Thanks</h2>
<ul>
<li><a href="https://github.com/raysan5">raysan5</a> - Creator of Raylib</li>
<li><a href="https://warmplace.ru">Alexander Zolotov</a> - Creator of SunVox</li>
<li><a href="https://github.com/sol-vin">Ian Rash</a> - Created Crystal bindings for SunVox and Raylib</li>
</ul>
</div>
</body>
</html>
